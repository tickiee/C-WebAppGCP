<!DOCTYPE html>
<html>
    <head>
        <link rel = "stylesheet" href = "../static/style.css">
        <title>Edit Message</title>
    </head>
    <body>
        <form action = "/updatemessage/{{ entityUsername }}" method = "post" enctype = "multipart/form-data">
            <p>
                <label for = "subject">Editing message for </label>
                <input type = "text" name = "subject" value = "{{ results['subject'] }}" style = "border:none" readonly = "readonly"/>

                <br>
                <br>
                
                <label for = "newsubject">Edit Subject</label>
                <input type = "text" name = "newsubject" value = "{{ results['subject'] }}" required/>

                <br>
                <br>

                <label for = "messagetext">Edit Message</label>
                <div class = "show-white-space"><textarea name = "messagetext" rows = "3" cols = "50">{{ results['messagetext'] }}</textarea></div>

                <br>
                <br>

                <label for = "new_image">Edit Image</label>
                <input type = "file" name = "file" accept = "image/*"/>
                
                <br>
                <br>

                <label for = "old_image">Old Image</label>

                <br>

                <img src = "https://storage.googleapis.com/{{ bucket }}/{{ results['imagename'] }}" width = "120", height = "120"/>
            </p>
            <p>
                <button name = "updatemessage_button" type = "submit"> Update message</button>
            </p>
        </form>
        <p>
            <a href = "{{ url_for('userpostedmessages', entityUsername = entityUsername) }}">
                <button name = "userpostedmessages_button" type = "submit"> View posted messages</button>
            </a>
        </p>
    </body>
</html>